
{% extends "laptopstore/main.html" %}
{% load static %}
{% block content %}
<head>
  <title>Dashboard</title>
  <link rel="stylesheet" href="{% static 'css/dashbord.css' %}">
  <script src="{% static 'js/dashboard.js' %}" defer></script>
 
</head>

<div class="dashboard-container">
  <!-- Sidebar -->
  <div class="sidebar">
    <h2>Dashboard</h2>
    <ul>
      <li><a href="#overview" class="nav-link">Overview</a></li>
      <li><a href="#customers" class="nav-link">Customers</a></li>
      <li><a href="#orders" class="nav-link">Orders</a></li>
      <li><a href="#add" class="nav-link">Add Laptop</a></li>
      <li><a href="#add_admin" class="nav-link">Add admin</a></li>
      <li><a href="#remove_admin" class="nav-link">Remove admin</a></li>
      <li><a href="#vvv" class="nav-link">Analysis </a></li>
      
    
    </ul>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <div id="overview" class="section">
      <h1 class='header'>Dashboard</h1>
      <div class="stats">
        <div>Total Orders: <span class="stats-badge ">{{ num_of_order }}</span></div>
        <div>Pending: <span class="stats-badge ">{{ num_Pending }}</span></div>
        <div>Completed: <span class="stats-badge ">{{ num_Completed }}</span></div>
        <div>Canceled: <span class="stats-badge ">{{ num_Canceled }}</span></div>
        <div>Shipped: <span class="stats-badge ">{{ num_Shipped }}</span></div>
        <div>Processing: <span class="stats-badge ">{{ num_Processing }}</span></div>
      </div>
    </div>
        <div id="vvv" class="section">
          <h1 class="page-title header">User Behavior Analysis </h1>
          <div class="add-laptop-card">
            <div class="add-icon">
              <i class="fa-solid fa-chart-simple"></i>
            </div>
            <a href="{% url 'user_behavior_analysis' %}" class="add-btn">Analysis  </a>
          </div>
        
        </div>

    
        <div id="add" class="section">
          <h1 class="page-title header">Add Laptop</h1>
          <div class="add-laptop-card">
            <div class="add-icon">
                <i class="fas fa-laptop"></i>
            </div>
        
            <p>Click here to add a new laptop to the store</p>
            <a href="{% url 'add_laptop' %}" class="add-btn">Add Laptop </a>
          </div>
        
        </div>

        <div id="add_admin" class="section">
          <h1 class="page-title header">Add Admin</h1>
          <div class="add-laptop-card">
            <div class="add-icon">
              <i class="fa-solid fa-user-tie"></i>
            </div>
        
            <p>Click here to add a new admin to the store</p>
            <a href="{% url 'make_admin' %}" class="add-btn">Add Admin </a>
          </div>
        
        </div>
        <div id="remove_admin" class="section">
          <h1 class="page-title header">Remove Admin</h1>
          <div class="add-laptop-card">
            <div class="add-icon">
              <i class="fa-solid fa-user-xmark"></i>
            </div>
        
            <p>Click here to add a new admin to the store</p>
            <a href="{% url 'remove_admin' %}" class="add-btn">Remove Admin </a>
             </div>
        
        </div>
    
  


    <div id="customers" class="section">
      <h1 class="page-title header">Customers</h1>
      <table class="table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Show Details</th>
          </tr>
        </thead>
        <tbody>
          {% for item in costomer %}
          <tr>
            <td>{{ item.name }}</td>
            <td>{{ item.email }}</td>
            <td>{{ item.phone }}</td>
            <td>
              <a href="{% url 'customer' item.id %}">
                <i class="fas fa-eye show-icon"></i>
              </a>
            </td> 
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div id="orders" class="section">
      <h1 class="page-title header">Orders</h1>
      <table class="table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Customer</th>
            <th>Laptop</th>
            <th>Status</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {% for item in orders %}
          <tr>
            <td>{{ item.date_created }}</td>
            <td>{{ item.Coustomer }}</td>
            <td>{{ item.Laptop }}</td>
            <td>{{ item.status }}</td>
            <td>
              <!-- زر التعديل -->
                <a class="btn " href="{% url 'update_order' item.id %}">
                  <i class="fa-solid fa-pen-to-square icon-edit"></i> 
                </a>

                <!-- زر الحذف -->
                <a class="btn " href="{% url 'delete' item.id %}">
                  <i class="fa-solid fa-trash icon-delete"></i> 
                </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}
